## 语法分析

<!--
### 综述

此目录下的grammar文件是文法，为了便于处理，在开头添加了一列。下面是第一列标识符的解释：

+ T表示terminate，即此行为终结符
+ D表示delete，此行删除，不予考虑
+ N表示nonterminate，即此行为非终结符

设置这几个标识符是为了在不删除文件内容的情况下标识每一个符号，方便python脚本处理。
-->

### 代码生成

此目录中的文件主要是为了生成语法分析所需的代码。同时也是对我用正则表达式表示的文法的检测。

语法分析代码整体架构如下：首先是一个抽象语法树基类，它提供了对后续语义分析、代码生成的接口，然后分别对每一个非终结符（有待商榷）生成一个子类，子类重写一些方法。每个子类可以有多个状态，每个状态对应于一条生成规则，每一条状态通过构造函数的输入，生成相应子类的对象。

整个语法分析的主函数里跑一个类似于状态机的东西，通过栈模拟递归下降。

### 分析

<!--
首先是对我用正则表达式写的文法的分析。由于当时处理文法的时候没有考虑太多，其中的正则表达式有许多不严谨的地方（刚才我就发现了一个），因此需要一个脚本对我写的正则表达式进行检查，以及由正则表达式转化为一般的文法表示。我这里使用到的正则表达式元字符有以下几个：

+ `*`代表之前出现的元素可以出现零次或多次
+ `+`代表之前出现的元素可以出现一次或多次
+ `?`代表之前出现的元素可以出现零次或一次
+ `()`括号内的东西作为一个整体出现，括号优先级最高
+ `|`分隔符，表示或，优先级最低

其次这里的语法还有如下要求：
+ `[]`虽然这里不支持其在正则表达式中的作用，但为了写起来放别，需要表示为中括号的时候需要转义
+ 在`<>`中的东西代表一个终结符或者非终结符，因此`<>`在表示的时候也需要转义

如果需要使用元字符原本的意思，需要转义。
-->
